# Micrometer Keycloak SPI
[![Sponsored by Spaceteams](https://img.shields.io/badge/sponsored_by-Spaceteams-ebff00?labelColor=000000&logo=data:image/svg%2bxml;base64,PHN2ZyBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNTggMTc5Ij48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTc2LjUgNTMuN0w3NC41LjRsLTQgLjQgNiA1Mi45em0tMjEtNDkuNWwxMS44IDQ1LjZMNTEuNyA1LjRsMy44LTEuMnptLTI1LjYuMmwxOS40IDM1LjgtMjMtMzMuOCAzLjYtMnpNMTkuMyAyMi45bDQ4LjggNTQuNS01MS44LTUxLjkgMy0yLjZ6bTc4LjggNDYuNmwtMTYuNiAxNyAxMy40LTE5LjYgMy4yIDIuNnptLTM5LjggNTUuN2wtMzAuMiA0OC4zIDMuNCAyIDI2LjgtNTAuM3pNMjkuNSAxMzlMNDkgMTIxLjJsLTE2LjYgMjAuMy0yLjgtMi42em05LjItMjMuN0w0IDEzNWwyLjIgMy40IDMyLjYtMjMuM3ptNjAtNS41TDgyLjMgOTJsMTkgMTQuNy0yLjYgM3ptNi40IDMuM2w0My40IDQyLjYgMi44LTNMMTA1IDExM3ptLTU0LjgtOS43bDIxLjgtMTAtMTkuOCAxMy42LTItMy42em0xNi44LTE3LjVMNi4zIDY3LjFsLTEgMy44IDYxLjggMTV6bS02NC4yLTQwTDM5LjcgNjggMSA0OS4ybDItMy40em03OC4yIDg0LjZWMTc4bDQtLjItNC00Ny4zem0tMTIuNi0xNi44bDguNC0xOC00LjYgMTkuNC0zLjgtMS40em0tMi4yIDEybC03LjYgMTUuOSAzLjggMS4yIDMuOC0xN3pNNDYuOSAxNzVsMTItMjgtOC4yIDI5LjQtMy44LTEuNHptLTguNi01MS41TDEgMTUybDIuNiAzIDM0LjgtMzEuNnpNMjEuNSA4OGwyMyAxLjZMMjEuNyA5MmwtLjItNHptOTEuOCAzLjRsMjcuNiAzLjkuMi00LTI3LjguMXptMjEuNCA3OGwtMjAuNi0zMiAyMy44IDI5LjYtMy4yIDIuNHpNODMgOTguM2wzMi40IDgwLjIgMy42LTEuNi0zNi03OC42em0xMC40IDY2LjFsLTYtMzcuNCA5LjggMzYuNC0zLjggMXptLTIwLjQtMzUuNmwtOC4yIDM5IDQgLjggNC4yLTM5Ljh6bS01OC40IDQzLjNsMjktMzUuNEwxOCAxNzQuNWwtMy4yLTIuNHptOTYuNC02NC44bDQzLjggMzIuNiAyLjItMy4yLTQ2LTI5LjR6TTc2LjUgODBsLTUuNi0yNS4xLTMuOCAxLjJMNzYuNSA4MHptOS0xNy43bC00LjYgMTYuOS42LTE3LjUgNCAuNnptMC0xM2w3LjYtMzUuNS00LS42LTMuNiAzNnptNDQuNi00NC4xbC0yOC40IDQ1LjIgMjQuOC00Ny4yIDMuNiAyem0tMjEuNCA1Mi45bDM5LjItMzguOC0zLTIuOEwxMDguNyA1OHptNS4yLTU0LjNMOTIuNSA1NC43bDE3LjgtNTIuMyAzLjYgMS40em0tMTkuMiA4MWwyMy44LTQuNC0xLjItNC0yMi42IDguNHptMzguNiAyNy40bC0yMS40LTEwLjUgMjIuOCA2LjYtMS40IDMuOXptMTAuMiAxLjZsMTEuMiA2LjQgMS40LTMuOC0xMi42LTIuNnptMTMuNC03Ny40bC0zNyAyNi4zIDM0LjYtMjkuNiAyLjQgMy4zek0xMjcuNyA2NWwyNy44LTExLjQtMS44LTMuNy0yNiAxNS4xeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==)](https://spaceteams.de)
___
This is a fork from [micrometer-keycloak](https://github.com/micrometer-metrics/micrometer-keycloak)

This has been adapted to work with StatsD and DataDog.

---

A [Service Provider](https://www.keycloak.org/docs/4.8/server_development/index.html#_providers) that automatically publishes all metrics to StatsD using the DataDog flavor.

Defined providers:

* `MetricsEventListener` to record the internal Keycloak events

## Usage

Build the jar
    
    ./gradlew jar    

Deploy to JBoss and activate metric listener in Keycloak
